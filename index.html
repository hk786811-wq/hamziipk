<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HAMZII-KING 2.0 - Number Search</title>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>

<style>
:root {
    --primary-gradient: linear-gradient(90deg, #8E2DE2, #4A00E0);
    --primary-color: #8E2DE2;
    --bg-dark: #0f0f12;
    --bg-light: #1f1f1f;
    --bg-lighter: #2a2a2a;
    --border-color: #333;
}

body {
    font-family: 'Poppins', sans-serif;
    background-color: var(--bg-dark);
    color: #f0f0f0;
}

.gemini-title {
    font-weight: 800;
    background: linear-gradient(90deg, #8E2DE2, #4A00E0, #ec4899, #f59e0b, #8E2DE2);
    background-size: 400% 100%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: gemini-shimmer 8s linear infinite;
}

@keyframes gemini-shimmer {
    0% { background-position: 0% 50%; }
    100% { background-position: 400% 50%; }
}

.btn-gradient {
    background: var(--primary-gradient);
    transition: opacity 0.2s;
}
.btn-gradient:hover:not(:disabled){opacity:0.9;}

.spinning {
    animation: spin 1s linear infinite;
}
@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

.btn-link {
    background-color: var(--bg-light);
    border: 1px solid var(--border-color);
    color: #d1d5db;
}
.btn-link:hover {
    border-color: var(--primary-color);
    color: #fff;
}

/* Result Cards */
.result-card {
    background: linear-gradient(135deg, #8E2DE2, #4A00E0, #ec4899, #f59e0b);
    background-size: 400% 400%;
    padding: 1.5rem;
    border-radius: 1rem;
    border-top: 4px solid #fff;
    animation: cardGradient 10s ease infinite;
}

@keyframes cardGradient {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}
</style>
</head>

<body class="min-h-screen p-4 sm:p-8">

<div id="mainContent" class="max-w-4xl mx-auto space-y-8">

<header class="text-center py-4 border-b border-border-color">
    <h1 class="text-4xl sm:text-5xl font-extrabold gemini-title">
        HAMZII-KING 2.0 - Number Search
    </h1>
</header>

<!-- Search -->
<div class="flex flex-col sm:flex-row gap-4">
    <input type="tel" id="phoneInput"
        class="flex-1 bg-bg-lighter border border-border-color text-lg rounded-lg p-4"
        placeholder="Enter phone number (0309...)">

    <button id="searchButton"
        class="btn-gradient text-white font-bold py-4 px-6 rounded-lg flex items-center justify-center text-lg">
        <i id="searchIcon" data-feather="search" class="w-6 h-6 mr-2"></i>
        <span id="buttonText">Search</span>
    </button>
</div>

<!-- Loading -->
<div id="loading" class="text-center hidden py-8">
    <i data-feather="loader" class="animate-spin h-10 w-10 inline-block"></i>
    <p class="text-lg mt-4 text-gray-400">Loading...</p>
</div>

<!-- Error -->
<div id="errorDisplay" class="text-center hidden p-4 bg-red-900 bg-opacity-30 rounded-lg">
    <p id="errorMessage" class="text-red-300"></p>
</div>

<!-- Results -->
<div id="resultsContainer" class="grid grid-cols-1 md:grid-cols-2 gap-6"></div>

<!-- Links -->
<div class="text-center pt-8 border-t border-border-color flex flex-wrap justify-center gap-4">
    <a href="https://t.me/chuza_404" target="_blank" class="btn-link py-2 px-4 rounded-lg">Telegram</a>
    <a href="https://youtube.com/@hamziitheking" target="_blank" class="btn-link py-2 px-4 rounded-lg">YouTube</a>
    <a href="https://chat.whatsapp.com/Dzla0knrGFYIaTqJGQ38Cz" target="_blank" class="btn-link py-2 px-4 rounded-lg">WhatsApp</a>
</div>

</div>

<script>
feather.replace();

const phoneInput = document.getElementById('phoneInput');
const searchButton = document.getElementById('searchButton');
const buttonText = document.getElementById('buttonText');
const searchIcon = document.getElementById('searchIcon');
const resultsContainer = document.getElementById('resultsContainer');
const loading = document.getElementById('loading');
const errorDisplay = document.getElementById('errorDisplay');
const errorMessage = document.getElementById('errorMessage');

searchButton.addEventListener('click', searchPhone);
phoneInput.addEventListener('keypress', e => e.key === 'Enter' && searchPhone());

async function searchPhone(){
    let query = phoneInput.value.trim();
    if(!query) return showError("Enter a phone number");

    if(query.startsWith('0')) query = '92' + query.slice(1);
    if(query.startsWith('+92')) query = query.slice(1);

    const apiUrl = 'https://corsproxy.io/?' +
        encodeURIComponent('https://fam-official.serv00.net/api/famdatabase.php?number=' + query);

    setLoading(true);
    resultsContainer.innerHTML = '';
    errorDisplay.classList.add('hidden');

    try {
        const res = await fetch(apiUrl);
        const data = await res.json();
        if(!data || data.status === 'error') throw new Error("No data found");
        displayResults(Array.isArray(data) ? data : data.records || []);
    } catch(err) {
        showError(err.message);
    } finally {
        setLoading(false);
    }
}

function setLoading(v){
    searchButton.disabled = v;
    loading.classList.toggle('hidden', !v);
    buttonText.textContent = v ? 'Searching...' : 'Search';
    searchIcon.classList.toggle('spinning', v);
}

function showError(msg){
    errorMessage.textContent = msg;
    errorDisplay.classList.remove('hidden');
}

function displayResults(records){
    records.forEach((r,i)=>{
        const d = document.createElement('div');
        d.className = 'result-card';
        d.innerHTML = `<h3 class="text-2xl font-bold mb-2">${r.Name || 'Result '+(i+1)}</h3>` +
            Object.keys(r).map(k=>`<p><b>${k}:</b> ${r[k]}</p>`).join('');
        resultsContainer.appendChild(d);
    });
}
</script>

</body>
</html>